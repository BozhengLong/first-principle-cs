# Module F: AI 与搜索系统

## 模块目的与范围

本模块理解 AI 与搜索系统的核心，回答三个核心问题：

1. **如何索引与检索？** - 理解倒排索引、排序算法
2. **如何推荐？** - 理解协同过滤、内容推荐
3. **如何训练模型？** - 理解神经网络、反向传播、优化算法

## 必学概念与不变量清单

### 1. 倒排索引

**核心概念**：
- 倒排索引：词到文档的映射
- 分词：将文本分割为词
- TF-IDF：词频-逆文档频率

**关键不变量**：
- **索引一致性**：索引与文档保持一致
- **查询正确性**：查询返回相关文档

**理解标准**：
- 能实现倒排索引
- 能实现 TF-IDF 排序
- 能解释不同索引结构的权衡

### 2. 排序与相关性

**核心概念**：
- PageRank：基于链接的排序算法
- BM25：基于词频的排序算法
- 学习排序：用机器学习优化排序

**关键不变量**：
- **排序稳定性**：相同查询返回相同排序
- **相关性单调性**：更相关的文档排名更高

**理解标准**：
- 能实现 PageRank
- 能实现 BM25
- 能解释不同排序算法的权衡

### 3. 推荐系统

**核心概念**：
- 协同过滤：基于用户行为的推荐
- 内容推荐：基于物品特征的推荐
- 矩阵分解：降维与特征提取

**关键不变量**：
- **推荐多样性**：推荐结果不应该过于相似
- **推荐新颖性**：推荐结果应该包含用户未见过的物品

**理解标准**：
- 能实现协同过滤
- 能实现矩阵分解
- 能解释不同推荐算法的权衡

### 4. 神经网络

**核心概念**：
- 前向传播：计算输出
- 反向传播：计算梯度
- 优化算法：SGD、Adam

**关键不变量**：
- **梯度正确性**：反向传播计算的梯度正确
- **收敛性**：优化算法最终会收敛

**理解标准**：
- 能实现简单的神经网络
- 能实现反向传播
- 能解释不同优化算法的权衡

### 5. 分布式训练

**核心概念**：
- 数据并行：将数据分散到多个节点
- 模型并行：将模型分散到多个节点
- 参数服务器：集中管理参数

**关键不变量**：
- **梯度一致性**：所有节点使用相同的参数
- **收敛性**：分布式训练与单机训练收敛到相同结果

**理解标准**：
- 能实现数据并行训练
- 能实现参数服务器
- 能解释分布式训练的权衡

## 标志性产物

本模块的系统仓库尚在规划中，可能包括：

### 1. Simple Search Engine

**目标**：实现一个简单的搜索引擎。

**核心特性**：
- 倒排索引
- TF-IDF 或 BM25 排序
- 分词与查询解析

**关键不变量**：
- 索引一致性
- 查询正确性

**验收标准**：
- [ ] 能索引大量文档
- [ ] 能快速响应查询
- [ ] 能返回相关文档
- [ ] 有完整的设计文档

### 2. Recommendation System

**目标**：实现一个推荐系统。

**核心特性**：
- 协同过滤
- 矩阵分解
- 在线更新

**关键不变量**：
- 推荐多样性
- 推荐新颖性

**验收标准**：
- [ ] 能处理大量用户与物品
- [ ] 能快速生成推荐
- [ ] 能在线更新模型
- [ ] 有完整的设计文档

### 3. Simple ML Framework

**目标**：实现一个简单的机器学习框架。

**核心特性**：
- 自动微分
- 常见层（全连接、卷积、RNN）
- 优化算法（SGD、Adam）

**关键不变量**：
- 梯度正确性
- 收敛性

**验收标准**：
- [ ] 能训练简单的神经网络
- [ ] 能通过梯度检查
- [ ] 能在标准数据集上达到合理精度
- [ ] 有完整的设计文档

## 验收标准

完成本模块后，你应该能够：

- [ ] 实现倒排索引
- [ ] 实现 TF-IDF 或 BM25 排序
- [ ] 实现协同过滤
- [ ] 实现简单的神经网络
- [ ] 实现反向传播
- [ ] 解释不同 AI 与搜索系统设计的权衡

## 推荐项目顺序

1. **Simple Search Engine** - 先理解索引与检索
2. **Recommendation System** - 再理解推荐算法
3. **Simple ML Framework** - 最后理解神经网络

## 参考资料

### 书籍

- **《信息检索导论》（Introduction to Information Retrieval）** - Manning et al.
  - 搜索引擎的经典教材

- **《推荐系统实践》（Recommender Systems）** - Ricci et al.
  - 推荐系统的权威指南

- **《深度学习》（Deep Learning）** - Goodfellow et al.
  - 深度学习的权威教材

### 论文

- **"The PageRank Citation Ranking"** - Page et al. (1999)
  - PageRank 的原始论文

- **"Matrix Factorization Techniques for Recommender Systems"** - Koren et al. (2009)
  - 矩阵分解推荐

- **"Attention Is All You Need"** - Vaswani et al. (2017)
  - Transformer 架构

### 在线资源

- **Stanford CS276: Information Retrieval and Web Search**
  - 信息检索课程

- **Stanford CS224N: Natural Language Processing**
  - NLP 课程

- **Stanford CS231N: Convolutional Neural Networks**
  - 计算机视觉课程

## 与其他模块的关系

- **Module D (数据系统)**：搜索引擎需要索引与查询优化
- **Module E (网络与分布式)**：分布式搜索引擎需要分片与复制
- **Module B (语言与执行)**：神经网络框架需要自动微分

## 未来方向

本模块仍在规划中，可能的扩展方向：

1. **向量数据库** - 实现高维向量的索引与检索
2. **图神经网络** - 实现图上的神经网络
3. **强化学习** - 实现简单的强化学习算法
4. **联邦学习** - 实现分布式隐私保护训练

---

恭喜完成所有课程模块！现在可以选择一个感兴趣的系统开始构建，或查看 [../guide/ROADMAP.md](../guide/ROADMAP.md) 了解开发时间线。
